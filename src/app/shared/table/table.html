<div class="card">
  <div class="font-semibold text-xl mb-4">Frozen Columns</div>
  <p-togglebutton
    [(ngModel)]="balanceFrozen"
    [onIcon]="'pi pi-lock'"
    offIcon="pi pi-lock-open"
    [onLabel]="'Balance'"
    offLabel="Balance"
  />

  <p-table
    [value]="dataTable()"
    [virtualScroll]="virtualScroll()"
    [virtualScrollItemSize]="rowHeight()"
    [scrollHeight]="'calc(100vh - 220px)'"
  >
    <ng-template #header>
      <tr>
        @for (item of columns(); track $index) {
        <th
          pFrozenColumn
          [alignFrozen]="item.frozenAlign ?? 'left'"
          [frozen]="item.frozen ?? false"
          [ngClass]="{ 'font-bold': item.frozen }"
          [style]="{ minWidth: item.minWidth, maxWidth: item.maxWidth }"
        >
          {{ item.label }}
        </th>
        }
      </tr>
    </ng-template>
    <ng-template #body let-customer>
      <tr>
        <td pFrozenColumn class="font-bold">{{ customer.name }}</td>
        <td style="min-width: 100px">{{ customer.id }}</td>
        <td>{{ customer.country.name }}</td>
        <td>{{ customer.date }}</td>
        <td>{{ customer.company }}</td>
        <td>{{ customer.status }}</td>
        <td>{{ customer.activity }}</td>
        <td>{{ customer.representative.name }}</td>
        <td
          alignFrozen="right"
          pFrozenColumn
          [frozen]="balanceFrozen"
          [ngClass]="{ 'font-bold': balanceFrozen }"
        >
          {{ formatCurrency(customer.balance) }}
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>
